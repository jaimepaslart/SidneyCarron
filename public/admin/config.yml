backend:
  name: git-gateway
  branch: main

locale: fr

media_folder: public/uploads
public_folder: /uploads

slug:
  encoding: ascii
  clean_accents: true
  sanitize_replacement: "-"

collections:
  # ──────────────────────────────────────────────
  # ŒUVRES (folder → src/content/works)
  # ──────────────────────────────────────────────
  - name: works
    label: "Œuvres"
    label_singular: "Œuvre"
    folder: src/content/works
    create: true
    extension: md
    slug: "{{slug}}"
    summary: "{{title_fr}} ({{year}})"
    sortable_fields: ["title_fr", "year", "order"]
    fields:
      - label: "Slug FR"
        name: slug
        widget: string
        pattern: ['^[a-z0-9-]+$', "Minuscules, chiffres et tirets uniquement"]
      - label: "Slug EN"
        name: slug_en
        widget: string
        pattern: ['^[a-z0-9-]+$', "Minuscules, chiffres et tirets uniquement"]
      - label: "Titre (FR)"
        name: title_fr
        widget: string
      - label: "Title (EN)"
        name: title_en
        widget: string
      - label: "Année"
        name: year
        widget: number
        value_type: int
        min: 1900
        max: 2100
      - label: "Technique (FR)"
        name: medium_fr
        widget: string
      - label: "Medium (EN)"
        name: medium_en
        widget: string
      - label: "Dimensions"
        name: dimensions
        widget: string
        hint: "Ex : 65 × 30 × 25 cm"
      - label: "Série"
        name: series
        widget: relation
        collection: series
        search_fields: ["title_fr", "title_en"]
        value_field: slug
        display_fields: ["title_fr"]
      - label: "Mise en avant"
        name: featured
        widget: boolean
        default: false
      - label: "Ordre d'affichage"
        name: order
        widget: number
        value_type: int
        default: 0
        hint: "Plus le nombre est bas, plus l'œuvre apparaît en premier"
      - label: "Images"
        name: images
        widget: list
        min: 1
        summary: "{{fields.alt_fr}}"
        fields:
          - label: "Image"
            name: src
            widget: image
          - label: "Texte alternatif (FR)"
            name: alt_fr
            widget: string
          - label: "Alt text (EN)"
            name: alt_en
            widget: string
      - label: "Description (FR)"
        name: description_fr
        widget: text
        required: false
      - label: "Description (EN)"
        name: description_en
        widget: text
        required: false

  # ──────────────────────────────────────────────
  # SÉRIES (folder → src/content/series)
  # ──────────────────────────────────────────────
  - name: series
    label: "Séries"
    label_singular: "Série"
    folder: src/content/series
    create: true
    extension: md
    slug: "{{slug}}"
    summary: "{{title_fr}}"
    sortable_fields: ["title_fr", "order"]
    fields:
      - label: "Slug FR"
        name: slug
        widget: string
        pattern: ['^[a-z0-9-]+$', "Minuscules, chiffres et tirets uniquement"]
      - label: "Slug EN"
        name: slug_en
        widget: string
        pattern: ['^[a-z0-9-]+$', "Minuscules, chiffres et tirets uniquement"]
      - label: "Titre (FR)"
        name: title_fr
        widget: string
      - label: "Title (EN)"
        name: title_en
        widget: string
      - label: "Image de couverture"
        name: cover
        widget: object
        fields:
          - label: "Image"
            name: src
            widget: image
          - label: "Texte alternatif (FR)"
            name: alt_fr
            widget: string
          - label: "Alt text (EN)"
            name: alt_en
            widget: string
      - label: "Description (FR)"
        name: description_fr
        widget: text
      - label: "Description (EN)"
        name: description_en
        widget: text
      - label: "Texte curatorial (FR)"
        name: curatorial_fr
        widget: text
        required: false
      - label: "Curatorial text (EN)"
        name: curatorial_en
        widget: text
        required: false
      - label: "Ordre d'affichage"
        name: order
        widget: number
        value_type: int
        default: 0

  # ──────────────────────────────────────────────
  # EXPOSITIONS (folder → src/content/exhibitions)
  # ──────────────────────────────────────────────
  - name: exhibitions
    label: "Expositions"
    label_singular: "Exposition"
    folder: src/content/exhibitions
    create: true
    extension: md
    slug: "{{slug}}"
    summary: "{{title_fr}} — {{city}} ({{start_date}})"
    sortable_fields: ["title_fr", "start_date", "status"]
    fields:
      - label: "Slug FR"
        name: slug
        widget: string
        pattern: ['^[a-z0-9-]+$', "Minuscules, chiffres et tirets uniquement"]
      - label: "Slug EN"
        name: slug_en
        widget: string
        pattern: ['^[a-z0-9-]+$', "Minuscules, chiffres et tirets uniquement"]
      - label: "Titre (FR)"
        name: title_fr
        widget: string
      - label: "Title (EN)"
        name: title_en
        widget: string
      - label: "Lieu (FR)"
        name: venue_fr
        widget: string
      - label: "Venue (EN)"
        name: venue_en
        widget: string
      - label: "Ville"
        name: city
        widget: string
      - label: "Date de début"
        name: start_date
        widget: string
        hint: "Format : YYYY-MM-DD (ex : 2026-03-15)"
        pattern: ['^\d{4}-\d{2}-\d{2}$', "Format requis : YYYY-MM-DD"]
      - label: "Date de fin"
        name: end_date
        widget: string
        hint: "Format : YYYY-MM-DD (ex : 2026-05-30)"
        pattern: ['^\d{4}-\d{2}-\d{2}$', "Format requis : YYYY-MM-DD"]
      - label: "Type"
        name: type
        widget: select
        options:
          - label: "Exposition personnelle"
            value: solo
          - label: "Exposition collective"
            value: group
      - label: "Statut"
        name: status
        widget: select
        options:
          - label: "À venir"
            value: upcoming
          - label: "En cours"
            value: current
          - label: "Passée"
            value: past
      - label: "Image"
        name: image
        widget: object
        required: false
        fields:
          - label: "Image"
            name: src
            widget: image
          - label: "Texte alternatif (FR)"
            name: alt_fr
            widget: string
          - label: "Alt text (EN)"
            name: alt_en
            widget: string
      - label: "Description (FR)"
        name: description_fr
        widget: text
        required: false
      - label: "Description (EN)"
        name: description_en
        widget: text
        required: false
      - label: "Site web du lieu"
        name: venue_url
        widget: string
        required: false
        hint: "URL complète (ex : https://galerie-lambert.fr)"
      - label: "Œuvres exposées"
        name: works_slugs
        widget: list
        required: false
        field:
          label: "Œuvre"
          name: slug
          widget: relation
          collection: works
          search_fields: ["title_fr", "title_en"]
          value_field: slug
          display_fields: ["title_fr"]

  # ──────────────────────────────────────────────
  # PRESSE (folder → src/content/press)
  # ──────────────────────────────────────────────
  - name: press
    label: "Presse"
    label_singular: "Article"
    folder: src/content/press
    create: true
    extension: md
    slug: "{{slug}}"
    summary: "{{title_fr}} — {{publication}} ({{date}})"
    sortable_fields: ["title_fr", "date", "publication"]
    fields:
      - label: "Titre (FR)"
        name: title_fr
        widget: string
      - label: "Title (EN)"
        name: title_en
        widget: string
      - label: "Publication"
        name: publication
        widget: string
        hint: "Ex : Le Monde, Art Press, Beaux Arts Magazine"
      - label: "Date de publication"
        name: date
        widget: string
        hint: "Format : YYYY-MM-DD (ex : 2025-10-15)"
        pattern: ['^\d{4}-\d{2}-\d{2}$', "Format requis : YYYY-MM-DD"]
      - label: "Extrait (FR)"
        name: excerpt_fr
        widget: text
        required: false
      - label: "Excerpt (EN)"
        name: excerpt_en
        widget: text
        required: false
      - label: "Lien vers l'article"
        name: url
        widget: string
        required: false
        hint: "URL complète de l'article en ligne"
      - label: "PDF"
        name: pdf
        widget: file
        required: false
        hint: "Télécharger le PDF de l'article"
      - label: "Image"
        name: image
        widget: image
        required: false

  # ──────────────────────────────────────────────
  # PAGE À PROPOS (file → src/data/about.yml)
  # ──────────────────────────────────────────────
  - name: about
    label: "Page À propos"
    files:
      - name: about
        label: "À propos"
        file: src/data/about.yml
        fields:
          - label: "Portrait"
            name: portrait
            widget: image
            hint: "Photo portrait de l'artiste"
          - label: "Introduction (FR)"
            name: intro_fr
            widget: text
          - label: "Introduction (EN)"
            name: intro_en
            widget: text
          - label: "Biographie (FR)"
            name: bio_fr
            widget: markdown
          - label: "Biography (EN)"
            name: bio_en
            widget: markdown
          - label: "Démarche artistique (FR)"
            name: statement_fr
            widget: markdown
          - label: "Artistic statement (EN)"
            name: statement_en
            widget: markdown
          - label: "Parcours"
            name: cv
            widget: list
            summary: "{{fields.year}} — {{fields.text_fr}}"
            fields:
              - label: "Année"
                name: year
                widget: string
              - label: "Texte (FR)"
                name: text_fr
                widget: string
              - label: "Text (EN)"
                name: text_en
                widget: string

  # ──────────────────────────────────────────────
  # PAGE D'ACCUEIL (file → src/data/home.yml)
  # ──────────────────────────────────────────────
  - name: home
    label: "Page d'accueil"
    files:
      - name: home
        label: "Accueil"
        file: src/data/home.yml
        fields:
          - label: "Accroche hero (FR)"
            name: hero_statement_fr
            widget: string
            hint: "Phrase principale affichée en grand sur la page d'accueil"
          - label: "Hero statement (EN)"
            name: hero_statement_en
            widget: string
          - label: "Sous-titre hero (FR)"
            name: hero_subtitle_fr
            widget: string
          - label: "Hero subtitle (EN)"
            name: hero_subtitle_en
            widget: string
          - label: "Œuvres mises en avant"
            name: featured_works
            widget: list
            hint: "Sélectionner les œuvres à afficher sur la page d'accueil"
            field:
              label: "Œuvre"
              name: slug
              widget: relation
              collection: works
              search_fields: ["title_fr", "title_en"]
              value_field: slug
              display_fields: ["title_fr"]

  # ──────────────────────────────────────────────
  # PARAMÈTRES DU SITE (file → src/data/settings.yml)
  # ──────────────────────────────────────────────
  - name: settings
    label: "Paramètres du site"
    files:
      - name: general
        label: "Paramètres généraux"
        file: src/data/settings.yml
        fields:
          - label: "Nom de l'artiste"
            name: artistName
            widget: string
          - label: "Email de contact"
            name: email
            widget: string
          - label: "Réseaux sociaux"
            name: socials
            widget: object
            fields:
              - label: "Instagram"
                name: instagram
                widget: string
                required: false
                hint: "URL complète du profil Instagram"
              - label: "Facebook"
                name: facebook
                widget: string
                required: false
              - label: "LinkedIn"
                name: linkedin
                widget: string
                required: false
              - label: "YouTube"
                name: youtube
                widget: string
                required: false
          - label: "SEO par défaut"
            name: defaultSeo
            widget: object
            fields:
              - label: "Titre du site (FR)"
                name: title_fr
                widget: string
              - label: "Site title (EN)"
                name: title_en
                widget: string
              - label: "Description (FR)"
                name: description_fr
                widget: text
              - label: "Description (EN)"
                name: description_en
                widget: text
              - label: "Image Open Graph"
                name: ogImage
                widget: image
                required: false
                hint: "Image par défaut pour les partages sur les réseaux sociaux (1200×630px recommandé)"
