---
import { getLangFromUrl, getLocalizedPath } from '@/i18n';

interface Props {
  slug: string;
  title: string;
  year: number;
  medium: string;
  image: {
    src: string;
    alt: string;
  };
}

const { slug, title, year, medium, image } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const href = getLocalizedPath(lang, `/works/${slug}`);
---

<a href={href} class="group block" data-work-card>
  <div class="relative overflow-hidden aspect-[4/5] bg-[#E8E6E0]">
    <img
      src={image.src}
      alt={image.alt}
      width="400"
      height="500"
      loading="lazy"
      class="w-full h-full object-cover transition-transform duration-base ease-museum group-hover:scale-[1.02]"
    />
  </div>
  <div class="mt-3">
    <p class="font-serif text-body text-museum-text">
      {title}
    </p>
    <p class="museum-mono text-small text-museum-label mt-1">
      {year} â€” {medium}
    </p>
  </div>
</a>
